<app-sidebar></app-sidebar>
<div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
  data-sidebar-position="fixed" data-header-position="fixed">
  <div class="body-wrapper">
    <div class="container-fluid">
      <!-- Map Component -->
      <app-maps
        [busMarkers]="busMarkers"
        [busStops]="busStops"
        (busMarkerClicked)="onBusMarkerClicked($event)"
        (stopMarkerClicked)="onStopMarkerClicked($event)">
      </app-maps>

      <div #mapContainer class="map-container"></div>

      <!-- Card to display times and toggle button -->
      <div class="time-card" *ngIf="stopTimes.length > 0 || totalTripTime">
        <h4>Trip Information</h4>

        <div *ngFor="let time of stopTimes; let i = index">
          Stop {{ i + 1 }}: {{ time }}
        </div>
        <hr />

        <div>Total Trip Time: {{ totalTripTime }}</div>

        <!-- Toggle Button inside the card -->
        <button (click)="toggleStopsVisibility()">
          Toggle Stops
        </button>
      </div>
    </div>
  </div>
</div>
